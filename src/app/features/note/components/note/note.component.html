<app-layout [title]="title">
  <form class="form" [formGroup]="noteForm" (submit)="submitForm()">
    <mat-form-field class="form__field" appearance="fill" color="accent">
      <mat-label>Title</mat-label>
      <input matInput placeholder="Write a title..." formControlName="title" />
      <mat-error *ngIf="hasTitleRequiredError"> Title is required </mat-error>
      <mat-error *ngIf="hasTitlePatternError">
        Title can't be similar to email
      </mat-error>
    </mat-form-field>

    <mat-form-field class="form__field" appearance="fill" color="accent">
      <mat-label>Note</mat-label>
      <textarea
        matInput
        placeholder="Write your note..."
        formControlName="content"
        rows="5"
      ></textarea>
      <mat-error *ngIf="hasContentRequiredError">
        A text for the note is required
      </mat-error>
    </mat-form-field>

    <mat-checkbox formControlName="isArchived">
      {{ isArchived ? "Stored Note" : "Normal Note" }}
    </mat-checkbox>

    <div class="form__actions">
      <button mat-stroked-button color="accent" type="submit">
        {{ isNewNote ? "Add note" : "Update note" }}
      </button>
    </div>
  </form>
</app-layout>
